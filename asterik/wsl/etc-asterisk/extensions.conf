[globals]

[from-internal]
exten => 100,1,Answer()
 same => n,Playback(demo-congrats)
 same => n,Hangup()

exten => 200,1,Answer()
 same => n,Echo()
 same => n,Hangup()

; Default context used by dialer originates (exten 7000)
[default]
exten => 7000,1,NoOp(Dialer entry ${LEAD_ID}/${CAMPAIGN_ID})
 same => n,Answer()
 same => n,Set(REC_BASE=${IF($["${REC_BASENAME}" = ""]?cid${CAMPAIGN_ID}_lid${LEAD_ID}_${EPOCH}:${REC_BASENAME})})
 ; Adjust the path below to your repo path under WSL
 same => n,MixMonitor("/mnt/f/ai cold calling agent/data/recordings/${REC_BASE}.wav",a)
 same => n,NoOp(Context JSON: ${CONTEXT_JSON})
 ; Your actual media bridge goes here (e.g., bridge to audiosocket or IVR)
 same => n,Wait(1)
 same => n,Hangup()

; Local test leg that can be used by DIAL_STRING_TEST=Local/7100@default
exten => 7100,1,Answer()
 same => n,Playback(demo-congrats)
 same => n,Hangup()
